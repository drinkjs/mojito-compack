"use strict";(self.webpackChunkmojito_base=self.webpackChunkmojito_base||[]).push([[798],{2798:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var n=s(7458),o=s(3232),r=s(2983),i=s(8396);const c=(0,o.P)((function({text:t,$display:e,$style:s,$setProps:o}){const[c,a]=(0,r.useState)(!1),[u,h]=(0,r.useState)(t),l=(0,r.useCallback)((t=>{h(t.target.value)}),[]),p=(0,r.useCallback)((()=>{a(!1),o&&o({text:u})}),[u]);return"viewer"!==e&&c?(0,n.jsx)(i.Z,{value:u,onChange:l,onBlur:p}):(0,n.jsx)("section",{style:Object.assign({},s),onDoubleClick:()=>{"viewer"!==e&&a(!0)},children:t||"viewer"!==e&&"请输入内容"})}),{name:"文本",props:{text:{name:"内容",type:"string"}}})},3232:(t,e,s)=>{s.d(e,{P:()=>f});var n=s(7458),o=s(2983),r=s(8520),i=s(8471);const c=Symbol(),a=Symbol(),u=Symbol(),h=Symbol(),l=Symbol(),p=Symbol(),m="__MOJITO_UPDATE_PROPS__";function f(t,e){var s,f,d,g,j,P,y;const S=(0,i.x0)();return y=class{constructor(){this[s]=t,this[f]=e,this.framework={name:"react",version:o.version},this[d]=null,this[g]=null,this[j]=void 0,this[P]=S}get component(){return this[l]}get componentInfo(){return this[p]}mount(t,e,s){const o=new EventTarget,i=r.createRoot(t);this[c]=i,this[a]=o,this[u]=Object.assign(Object.assign({},this.getDefaultProps()),e),i.render((0,n.jsx)(v,{component:this.component,props:this[u],evener:this[a],onMount:s}))}unmount(){this[c]&&(this[c].unmount(),this[c]=null,this[a]=null)}setProps(t){if(this[a]){const e=this[u];this[u]=Object.assign(Object.assign({},e),t),this[a].dispatchEvent(new b(m,this[u]))}}setEvent(t,e,s){this.setProps({[t]:e.bind(s)})}getProps(){return this[u]}getDefaultProps(){let t;if(this.componentInfo.props)for(const e in this.componentInfo.props)this.componentInfo.props[e].default&&(t||(t={}),t[e]=this.componentInfo.props[e].default);return t}getComponentId(){return this[h]}},s=l,f=p,d=c,g=a,j=u,P=h,y}class b extends Event{constructor(t,e){super(t),this.data=e}}const v=({component:t,props:e,evener:s,onMount:r})=>{const[i,c]=(0,o.useState)(e);return(0,o.useEffect)((()=>{r&&r(e)}),[]),(0,o.useEffect)((()=>{const t=({data:t})=>{c(t)};return s.addEventListener(m,t),()=>s.removeEventListener(m,t)}),[s]),(0,n.jsx)(t,Object.assign({},i))}}}]);