"use strict";(self.webpackChunkmojito_base=self.webpackChunkmojito_base||[]).push([[798],{2798:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var n=s(7458),o=s(3232),r=s(2983),i=s(8396);const _=(0,o.P)((function({text:t,$display:e,$style:s,$setProps:o}){const[_,p]=(0,r.useState)(!1),[c,u]=(0,r.useState)(t),a=(0,r.useCallback)((t=>{u(t.target.value)}),[]),h=(0,r.useCallback)((()=>{p(!1),o&&o({text:c})}),[c]);return"viewer"!==e&&_?(0,n.jsx)(i.Z,{value:c,onChange:a,onBlur:h}):(0,n.jsx)("section",{style:Object.assign({},s),onDoubleClick:()=>{"viewer"!==e&&p(!0)},children:t||"viewer"!==e&&"请输入内容"})}),{name:"文本",props:{text:{name:"内容",type:"string"}}})},3232:(t,e,s)=>{s.d(e,{P:()=>p});var n=s(7458),o=s(2983),r=s(8520),i=s(8471);const _="__MOJITO_UPDATE_PROPS__";function p(t,e){const s=(0,i.x0)();return class{constructor(){this.__component=t,this.__info=e,this.__root=null,this.__eventer=null,this.__props=void 0,this.__id=s,this.framework={name:"react",version:o.version}}get component(){return this.__component}get componentInfo(){return this.__info}get componentId(){return this.__id}mount(t,e,s){const o=new EventTarget,i=r.createRoot(t);this.__root=i,this.__eventer=o,this.__props=Object.assign(Object.assign({},this.getDefaultProps()),e),i.render((0,n.jsx)(u,{component:this.component,props:this.__props,evener:this.__eventer,onMount:s}))}unmount(){this.__root&&(this.__root.unmount(),this.__root=null,this.__eventer=null)}setProps(t){if(this.__eventer){const e=this.__props;this.__props=Object.assign(Object.assign({},e),t),this.__eventer.dispatchEvent(new c(_,this.__props))}}setEvent(t,e,s){this.setProps({[t]:e.bind(s)})}getProps(){return this.__props}getDefaultProps(){let t;if(this.componentInfo.props)for(const e in this.componentInfo.props)this.componentInfo.props[e].default&&(t||(t={}),t[e]=this.componentInfo.props[e].default);return t}}}class c extends Event{constructor(t,e){super(t),this.data=e}}const u=({component:t,props:e,evener:s,onMount:r})=>{const[i,p]=(0,o.useState)(e);return(0,o.useEffect)((()=>{r&&r(e)}),[]),(0,o.useEffect)((()=>{const t=({data:t})=>{p(t)};return s.addEventListener(_,t),()=>s.removeEventListener(_,t)}),[s]),(0,n.jsx)(t,Object.assign({},i))}}}]);